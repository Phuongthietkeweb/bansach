{% load static %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="{% url 'pages:home' %}">
            üìö Bookstore
        </a>
        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'pages:home' %}">Trang ch·ªß</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'books:list' %}">S√°ch</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'pages:about' %}">Gi·ªõi thi·ªáu</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'pages:contact' %}">Li√™n h·ªá</a>
                </li>
                {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link">Xin ch√†o {{ user.username }}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'books:profile' %}">Th√¥ng tin c√° nh√¢n</a>
                    </li>
                    
                    <form method="post" action="{% url 'books:logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="nav-link btn btn-link" >ƒêƒÉng xu·∫•t</button>
                    </form>

                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'books:login' %}">ƒêƒÉng nh·∫≠p</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'books:register' %}">ƒêƒÉng k√Ω</a>
                    </li>
                {% endif %}
            </ul>
            
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link position-relative" href="{% url 'cart:detail' %}">
                        üõí Gi·ªè h√†ng
                        {% if cart_count > 0 %}
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                {{ cart_count }}
                            </span>
                        {% endif %}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'admin:index' %}">Admin</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<style>
.navbar-brand {
    font-weight: bold;
    font-size: 1.5rem;
}

.nav-link {
    transition: color 0.3s ease;
}

.nav-link:hover {
    color: #ffc107 !important;
}

.badge {
    font-size: 0.7rem;
    min-width: 18px;
    height: 18px;
    line-height: 18px;
    text-align: center;
}

/* Hi·ªáu ·ª©ng cho gi·ªè h√†ng */
.nav-item:has([href*="cart"]) .nav-link {
    background: linear-gradient(45deg, #28a745, #20c997);
    border-radius: 20px;
    padding: 8px 15px !important;
    margin: 0 5px;
    color: white !important;
    transition: all 0.3s ease;
}

.nav-item:has([href*="cart"]) .nav-link:hover {
    background: linear-gradient(45deg, #1e7e34, #17a2b8);
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
</style> 
